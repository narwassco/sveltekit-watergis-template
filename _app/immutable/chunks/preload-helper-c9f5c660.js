import{E as a,s as b}from"./index-451968bf.js";const u=[];function S(n,s){return{subscribe:m(n,s).subscribe}}function m(n,s=a){let o;const i=new Set;function t(e){if(b(n,e)&&(n=e,o)){const l=!u.length;for(const r of i)r[1](),u.push(r,n);if(l){for(let r=0;r<u.length;r+=2)u[r][0](u[r+1]);u.length=0}}}function c(e){t(e(n))}function f(e,l=a){const r=[e,l];return i.add(r),i.size===1&&(o=s(t)||a),e(n),()=>{i.delete(r),i.size===0&&(o(),o=null)}}return{set:t,update:c,subscribe:f}}const h=function(){const s=document.createElement("link").relList;return s&&s.supports&&s.supports("modulepreload")?"modulepreload":"preload"}(),p=function(n){return"/"+n},d={},_=function(s,o,i){return!o||o.length===0?s():Promise.all(o.map(t=>{if(t=p(t),t in d)return;d[t]=!0;const c=t.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${f}`))return;const e=document.createElement("link");if(e.rel=c?"stylesheet":h,c||(e.as="script",e.crossOrigin=""),e.href=t,document.head.appendChild(e),c)return new Promise((l,r)=>{e.addEventListener("load",l),e.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s())};export{_,S as r,m as w};
